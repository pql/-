# 1. ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡
- ä»¥ç±»å’Œå¯¹è±¡ä½œä¸ºç»„ç»‡ä»£ç çš„åŸºæœ¬å•ä½ï¼Œå¹¶å®ç°å°è£…ã€æŠ½è±¡ã€ç»§æ‰¿ã€å¤šæ€å››ä¸ªç‰¹æ€§
- è½¯ä»¶å¼€å‘ç»å†åˆ†æã€è®¾è®¡å’Œç¼–ç ä¸‰ä¸ªé˜¶æ®µ
    - é¢å‘å¯¹è±¡åˆ†æ(OOA) Object Oriented Analysis
    - é¢å‘å¯¹è±¡è®¾è®¡(OOD) Object Oriented Design
    - é¢å‘å¯¹è±¡ç¼–ç¨‹(OOP)Object Oriented Programming
## 1.1 æŠ½è±¡(Abstraction)
- æŠ½è±¡ä¸»è¦æ˜¯éšè—æ–¹æ³•çš„å®ç°ï¼Œè®©è°ƒç”¨è€…åªå…³å¿ƒæœ‰å“ªäº›åŠŸèƒ½è€Œä¸æ˜¯å…³å¿ƒåŠŸèƒ½çš„å®ç°
- æŠ½è±¡å¯ä»¥æé«˜ä»£ç çš„å¯æ‰©å±•æ€§å’Œç»´æŠ¤æ€§ï¼Œä¿®æ”¹å®ç°ä¸éœ€è¦æ”¹å˜å®šä¹‰ï¼Œå¯ä»¥å‡å°‘ä»£ç çš„æ”¹åŠ¨èŒƒå›´
```ts
interface IStorage {
    save(key: any, value: any): void;
    read(key: any): void;
}
class LocalStorage implements IStorage {
    save(key: any, value: any) {
        localStorage.setItem(key, value);
    }
    read(key: any) {
        return localStorage.getItem(key);
    }
}
class User {
    constructor(public name: string, public storage: IStorage) {

    }
    save() {
        this.storage.save('userInfo', JSON.stringify(this));
    }
    read() {
        return this.storage.read('userInfo');
    }
}
let user = new User('å¼ ä¸‰', new LocalStorage());
user.save();
user.read();
```
## 1.2 ç»§æ‰¿
- ç»§æ‰¿ä¸»è¦çš„è¦å¤„æ˜¯å®ç°ä»£ç å¤ç”¨
- ç»§æ‰¿å¯ä»¥æŠŠçˆ¶ç±»å’Œå­ç±»çš„å…¬å…±æ–¹æ³•æŠ½ç¦»å‡ºæ¥ï¼Œæé«˜å¤ç”¨ï¼Œå‡å°‘å†—ä½™
- æ˜¯ä¸€ç§ is-a å…³ç³»
```js
export { };
class Animal {
    name: string;
    constructor(name: string) {
        this.name = name;
    }
    eat() {
        console.log(`${this.name} eat`)
    }
}
let animal = new Animal('åŠ¨ç‰©');
animal.eat();

class Dog extends Animal {
    age: number;
    constructor(name: string, age: number) {
        super(name);
        this.age = age;
    }
    speak() {
        console.log(`${this.name} is barking!`);
    }
}
let dog = new Dog('ğŸ¶', 5);
dog.eat();
dog.speak();
```
> è¿‡åº¦ä½¿ç”¨ç»§æ‰¿æˆ–è€…è¯´ç»§æ‰¿å±‚æ¬¡è¿‡æ·±ä¼šå¯¼è‡´ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å˜å·® å­ç±»å’Œçˆ¶ç±»é«˜åº¦è€¦åˆï¼Œä¿®æ”¹çˆ¶ç±»çš„ä»£ç ï¼Œä¼šç›´æ¥å½±å“åˆ°å­ç±»

## 1.3 å°è£…
- æŠŠæ•°æ®å°è£…èµ·æ¥
- å‡å°‘è€¦åˆï¼Œä¸è¯¥å¤–éƒ¨è®¿é—®çš„ä¸è¦è®©å¤–éƒ¨è®¿é—®
- åˆ©äºæ•°æ®çš„æ¥å£æƒé™ç®¡ç†
- ä»…æš´éœ²æœ‰é™çš„å¿…è¦æ¥å£ï¼Œæé«˜ç±»çš„æ˜“ç”¨æ€§
- å®ç°
    - public:å…¬æœ‰ä¿®é¥°ç¬¦ï¼Œå¯ä»¥åœ¨ç±»å†…æˆ–è€…ç±»å¤–ä½¿ç”¨publicä¿®é¥°çš„å±æ€§æˆ–è€…è¡Œä¸ºï¼Œé»˜è®¤ä¿®é¥°ç¬¦
    - protected:å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦ï¼Œå¯ä»¥æœ¬ç±»å’Œå­ç±»ä¸­ä½¿ç”¨protectedä¿®é¥°çš„å±æ€§å’Œè¡Œä¸º
    - private : ç§æœ‰ä¿®é¥°ç¬¦ï¼Œåªå¯ä»¥åœ¨ç±»å†…ä½¿ç”¨privateä¿®é¥°çš„å±æ€§å’Œè¡Œä¸º

![](/public/images/1control.png)

```js
class Animal {
    public name: string;
    protected age: number;
    private weight: number;
    constructor(name: string, age: number, weight: number) {
        this.name = name;
        this.age = age;
        this.weight = weight;
    }
}
class Person extends Animal {
    private money: number;
    constructor(name: string, age: number, weight: number, money: number) {
        super(name, age, weight);
        this.money = money;
    }
    getName() {
        console.log(this.name);
    }
    getAge() {
        console.log(this.age);
    }
    getWeight() {
        console.log(this.weight);
    }
    getMoney() {
        console.log(this.money);
    }
}
let p = new Person('zfpx', 9, 100, 100);
console.log(p.name);
console.log(p.age);
console.log(p.weight);
```
## 1.4 å¤šæ€
- å¤šæ€æ˜¯æŒ‡ï¼Œå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»
- ä¿æŒå­ç±»çš„å¼€æ”¾æ€§å’Œçµæ´»æ€§ï¼Œå¯ä»¥é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•
- å®ç°é¢å‘æ¥å£ç¼–ç¨‹
```js
class Animal {
    public name: string;
    protected age: number;
    private weight: number;
    constructor(name: string, age: number, weight: number) {
        this.name = name;
        this.age = age;
        this.weight = weight;
    }
    speak() {
        throw new Error('æ­¤æ–¹æ³•å¿…é¡»ç”±å­ç±»å®ç°!');
    }
}
class Person extends Animal {
    private money: number;
    constructor(name: string, age: number, weight: number, money: number) {
        super(name, age, weight);
        this.money = money;
    }
    getName() {
        console.log(this.name);
    }
    getAge() {
        console.log(this.age);
    }
    getMoney() {
        console.log(this.money);
    }
    speak() {
        console.log('ä½ å¥½!');
    }

}
class Dog extends Animal {
    constructor(name: string, age: number, weight: number) {
        super(name, age, weight);
    }
    speak() {
        console.log('æ±ªæ±ªæ±ª!');
    }
}
let p = new Person('zfpx', 10, 10, 10);
p.speak();
let d = new Dog('zfpx', 10, 10);
d.speak();
```
# 2. è®¾è®¡åŸåˆ™
## 2.1 ä»€ä¹ˆæ˜¯è®¾è®¡ï¼Ÿ
- æŒ‰å“ªä¸€ç§æ€è·¯æˆ–è€…æ ‡å‡†æ¥å®ç°åŠŸèƒ½
- åŠŸèƒ½ç›¸åŒï¼Œå¯ä»¥æœ‰ä¸åŒè®¾è®¡çš„æ–¹å¼
- éœ€æ±‚å¦‚æœä¸æ–­å˜åŒ–ï¼Œè®¾è®¡çš„ä½œç”¨æ‰èƒ½ä½“ç°å‡ºæ¥
## 2.2 SOLIDäº”å¤§è®¾è®¡åŸåˆ™
| é¦–å­—æ¯ | æŒ‡ä»£ | æ¦‚å¿µ |
| --- | --- | --- |
| S | å•ä¸€èŒè´£åŸåˆ™ | å•ä¸€åŠŸèƒ½åŸåˆ™è®¤ä¸ºå¯¹è±¡åº”è¯¥ä»…å…·æœ‰ä¸€ç§å•ä¸€åŠŸèƒ½çš„æ¦‚å¿µ |
| O | å¼€æ”¾å°é—­åŸåˆ™ | å¼€é—­åŸåˆ™è®¤ä¸ºè½¯ä»¶ä½“åº”è¯¥æ˜¯å¯¹äºæ‰©å±•å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹å°é—­çš„çš„æ¦‚å¿µ |
| L | é‡Œæ°æ›¿æ¢åŸåˆ™ | é‡Œæ°æ›¿æ¢åŸåˆ™è®¤ä¸ºç¨‹åºä¸­çš„å¯¹è±¡åº”è¯¥æ˜¯å¯ä»¥åœ¨ä¸æ”¹å˜ç¨‹åºæ­£ç¡®æ€§çš„å‰æä¸‹è¢«å®ƒçš„å­ç±»æ‰€æ›¿æ¢çš„çš„æ¦‚å¿µ |
| I | æ¥å£éš”ç¦»åŸåˆ™ | æ¥å£éš”ç¦»åŸåˆ™è®¤ä¸ºå¤šä¸ªç‰¹å®šå®¢æˆ·ç«¯æ¥å£è¦å¥½äºä¸€ä¸ªå®½æ³›ç”¨é€”çš„æ¥å£çš„æ¦‚å¿µ |
| D | ä¾èµ–åè½¬åŸåˆ™ | ä¾èµ–åè½¬åŸåˆ™è®¤ä¸ºä¸€ä¸ªæ–¹æ³•åº”è¯¥éµä»ä¾èµ–äºæŠ½è±¡è€Œä¸æ˜¯ä¸€ä¸ªå®ä¾‹çš„æ¦‚å¿µ,ä¾èµ–æ³¨å…¥æ˜¯è¯¥åŸåˆ™çš„ä¸€ç§å®ç°æ–¹å¼ã€‚ |

### 2.2.1 O å¼€æ”¾å°é—­åŸåˆ™
- Open Closed Principle
- å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç 
- å¼€é—­åŸåˆ™æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„æ€»åŸåˆ™
- å¯¹è¿‘æœŸå¯èƒ½ä¼šå˜åŒ–å¹¶ä¸”å¦‚æœæœ‰å˜åŒ–ä½†æ”¹åŠ¨é‡å·¨å¤§çš„åœ°æ–¹è¦å¢åŠ æ‰©å±•ç‚¹,æ‰©å±•ç‚¹è¿‡å¤šä¼šé™ä½å¯è¯»æ€§

```js
class Customer {
    constructor(public rank: string) { }
}
class Product {
    constructor(public name: string, public price: number) {

    }
    cost(customer: Customer) {
        switch (customer.rank) {
            case 'member':
                return this.price * .8;
            case 'vip':
                return this.price * .6;
            default:
                return this.price;
        }
    }
}
let p1 = new Product('ç¬”è®°æœ¬ç”µè„‘', 1000);
let member = new Customer('member');
let vip = new Customer('vip');
let guest = new Customer('guest');
console.log(p1.cost(member));
console.log(p1.cost(vip));
console.log(p1.cost(guest));
```
```js
class Customer {
+    constructor(public rank: string, public discount: number = 1) { }
+    getDiscount() {
+        return this.discount;
+    }
}
class Product {
    constructor(public name: string, public price: number) {

    }
    cost(customer: Customer) {
-        /*  switch (customer.rank) {
-             case 'member':
-                 return this.price * .8;
-             case 'vip':
-                 return this.price * .6;
-             default:
-                 return this.price;
-         } */
+        return this.price * customer.getDiscount();
    }
}
+let p1 = new Product('ç¬”è®°æœ¬ç”µè„‘', 1000);
+let member = new Customer('member', .8);
+let vip = new Customer('vip', .6);
let guest = new Customer('guest');
console.log(p1.cost(member));
console.log(p1.cost(vip));
console.log(p1.cost(guest));
```
```js
import axios, { AxiosInstance, AxiosRequestConfig } from 'axios';
let instance: AxiosInstance = axios.create();
instance.interceptors.request.use((config: AxiosRequestConfig) => {
    config.url = 'http://localhost:8080' + config.url;
    return config;
});

instance.interceptors.response.use(response => {
    if (response.status !== 200 || response.data.code != 0) {
        return Promise.reject(response);
    } else {
        return response.data.data;
    }
})
/**
 * {code:0,data:{id:1,name:'zhufeng'}}
 */
instance({
    url: '/api/users'
}).then(result => {
    console.log(result);
}, error => {
    console.error(error);
});
```
### 2.2.2 S å•ä¸€èŒè´£åŸåˆ™
- Single responsibility principle
- ä¸€ä¸ªç±»æˆ–è€…æ¨¡å—åªè´Ÿè´£å®Œæˆä¸€ä¸ªèŒè´£,å¦‚æœåŠŸèƒ½ç‰¹åˆ«å¤æ‚å°±è¿›è¡Œæ‹†åˆ†
- å•ä¸€èŒè´£å¯ä»¥é™ä½ç±»çš„å¤æ‚æ€§ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§
- å½“ç±»ä»£ç è¡Œæ•°è¿‡å¤šã€æ–¹æ³•è¿‡å¤šã€åŠŸèƒ½å¤ªå¤šã€èŒè´£å¤ªæ‚çš„æ—¶å€™å°±è¦å¯¹ç±»è¿›è¡Œæ‹†åˆ†äº†
- æ‹†åˆ†ä¸èƒ½è¿‡åº¦ï¼Œå¦‚æœæ‹†åˆ†è¿‡åº¦ä¼šæŸå¤±å†…èšæ€§å’Œç»´æŠ¤æ€§
- [lodashjs](https://www.lodashjs.com/docs/latest)
- [jquery](https://api.jquery.com/)

![](/public/images/product.png)

```js
class Product {
    public name: string;
-    public categoryName: string;
-    public categoryIcon: string;
+     public category:Category;
}
+class Category {
+    public name: string;
+    public icon: string;
+}
```
### 2.2.3 L é‡Œæ°æ›¿æ¢åŸåˆ™
- Liskov Substitution Principle
- æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡
- å­ç±»èƒ½æ›¿æ¢æ‰çˆ¶ç±»ï¼Œä½¿ç”¨è€…å¯èƒ½æ ¹æœ¬å°±ä¸éœ€è¦çŸ¥é“æ˜¯çˆ¶ç±»è¿˜æ˜¯å­ç±»,åä¹‹åˆ™ä¸è¡Œ
- é‡Œæ°æ›¿æ¢åŸåˆ™æ˜¯å¼€é—­åŸåˆ™çš„å®ç°åŸºç¡€,ç¨‹åºè®¾è®¡çš„æ—¶å€™å°½é‡ä½¿ç”¨åŸºç±»å®šä¹‰åŠå¼•ç”¨ï¼Œè¿è¡Œæ—¶å†å†³å®šä½¿ç”¨å“ªä¸ªå­ç±»
- é‡Œæ°æ›¿æ¢åŸåˆ™å¯ä»¥æé«˜ä»£ç çš„å¤ç”¨æ€§ï¼Œæé«˜ä»£ç çš„å¯æ‰©å±•æ€§ï¼Œä¹Ÿå¢åŠ äº†è€¦åˆæ€§
- ç›¸å¯¹äºå¤šæ€ï¼Œè¿™ä¸ªåŸåˆ™æ˜¯è®²çš„æ˜¯ç±»å¦‚ä½•è®¾è®¡ï¼Œå­ç±»å¦‚æœè¿åäº†çˆ¶ç±»çš„åŠŸèƒ½åˆ™è¡¨ç¤ºè¿åäº†é‡Œæ°æ›¿æ¢åŸåˆ™

![](/public/images/3.Substitution.png)

```js
abstract class AbstractDrink {
    abstract getName(): string;
}
class CocaCola extends AbstractDrink {
    getName(): string {
        return 'å¯ä¹';
    }
}
class Sprite extends AbstractDrink {
    getName(): string {
        return 'é›ªç¢§';
    }
}
class Fanta extends AbstractDrink {
    getName(): string {
        return 'èŠ¬è¾¾';
    }
}
class Customer {
    drink(drink: AbstractDrink) {
        console.log('å–' + drink.getName());
    }
}
let customer = new Customer();
let cocaCola = new CocaCola();
let sprite = new Sprite();
let fanta = new Fanta();
customer.drink(cocaCola);
customer.drink(sprite);
customer.drink(fanta);
```
```js
import React from 'react';
import ReactDOM from 'react-dom';
class App extends React.Component {
    render() {
        return (
            <div>App </div>
        )
    }
}
let element = React.createElement(App);
ReactDOM.render(element, document.getElementById('root'));
```
```js
abstract class AbstractDrink {
    abstract getName(): any;
}
class CocaCola extends AbstractDrink {
    getName(): any {
        return 100;
    }
}
```
### 2.2.4 D ä¾èµ–å€’ç½®åŸåˆ™
- Dependence Inversion Principle
- é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“å®ç°
- è¦æ±‚æˆ‘ä»¬åœ¨ç¨‹åºä»£ç ä¸­ä¼ é€’å‚æ•°æ—¶æˆ–åœ¨å…³è”å…³ç³»ä¸­ï¼Œå°½é‡å¼•ç”¨å±‚æ¬¡é«˜çš„æŠ½è±¡å±‚ç±»
- ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°

![](/public/images/5.Inversion.png)

```js
abstract class GirlFriend {
    public age: number;
    public height: number;
    public abstract cook(): void;
}
class LinZhiLing extends GirlFriend {
    public cook(): void {

    }
}
class HanMeiMei extends GirlFriend {
    public cook(): void {

    }
}
class SingleDog {
    constructor(public girlFriend: GirlFriend) {

    }
}
let s1 = new SingleDog(new LinZhiLing());
let s2 = new SingleDog(new HanMeiMei());
```

```js
import { createStore } from 'redux';
let store = createStore(state => state);
export interface Action<T = any> {
    type: T
}
export interface AnyAction extends Action {
    // Allows any extra properties to be defined in an action.
    [extraProps: string]: any
}
let action: AnyAction = { type: 'increment', payload: 5 }
store.dispatch(action);
```

### 2.2.5 I æ¥å£éš”ç¦»åŸåˆ™
- Interface Segregation Principle
- ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°èƒ–æ¥å£
- å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼Œç±»é—´çš„ä¾èµ–å…³ç³»åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Š
- æ¥å£å°½é‡ç»†åŒ–ï¼Œè€Œä¸”æ¥å£ä¸­çš„æ–¹æ³•å°½é‡çš„å°‘
- ç±»ä¼¼äºå•ä¸€èŒè´£åŸåˆ™ï¼Œæ›´å…³æ³¨æ¥å£
```js
interface IUserManager {
    updateUserInfo(): void;
    updatePassword(): void;
}
interface IProductManager {
    updateProduct(): void;
    updatePrice(): void;
}
```
```js
interface Running {
    run(): void;
}
interface Flying {
    fly(): void;
}
interface Swimming {
    swim(): void;
}
class Automobile implements Running, Flying, Swimming {
    run() { }
    fly() { }
    swim() { }
}
```
## 2.3 è¿ªç±³ç‰¹æ³•åˆ™
- Law of Demeterï¼ŒLOD
- æœ‰æ—¶å€™ä¹Ÿå«åšæœ€å°‘çŸ¥è¯†åŸåˆ™
- ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å°½å¯èƒ½å°‘åœ°ä¸å…¶å®ƒå®ä½“å‘ç”Ÿç›¸äº’ä½œç”¨
- è¿ªç±³ç‰¹æ³•åˆ™çš„åˆè¡·åœ¨äºé™ä½ç±»ä¹‹é—´çš„è€¦åˆ
- ç±»å®šä¹‰æ—¶å°½é‡è¦å®ç°å†…èš,å°‘ä½¿ç”¨publicä¿®é¥°ç¬¦ï¼Œå°½é‡ä½¿ç”¨privateã€protected ç­‰

![](/public/images/6.Demeter.png)

```js
class Salesman {
    constructor(public name: string) {

    }
    sale() {
        console.log(this.name + ' é”€å”®ä¸­....');
    }
}
class SaleManager {
    private salesmen: Array<Salesman> = [new Salesman('å¼ ä¸‰'), new Salesman('æå››')];
    sale() {
        this.salesmen.forEach(salesman => salesman.sale());
    }
}
class CEO {
    private saleManager: SaleManager = new SaleManager();
    sale() {
        this.saleManager.sale();
    }
}
let ceo = new CEO();
ceo.sale();
```
## 2.4 åˆæˆå¤ç”¨åŸåˆ™
### 2.4.1 ç±»çš„å…³ç³» 
- ç±»ä¹‹é—´æœ‰ä¸‰ç§åŸºæœ¬å…³ç³»ï¼Œåˆ†åˆ«æ˜¯å…³è”(èšåˆå’Œç»„åˆ)ã€æ³›åŒ–å’Œä¾èµ–
- å¦‚æœä¸€ä¸ªç±»å•å‘ä¾èµ–å¦ä¸€ä¸ªç±»,é‚£ä¹ˆå®ƒä»¬ä¹‹é—´å°±æ˜¯å•å‘å…³è”ã€‚å¦‚æœå½¼æ­¤ä¾èµ–,åˆ™ä¸ºç›¸äº’ä¾èµ–,å³åŒå‘å…³è”
- å…³è”å…³ç³»åŒ…æ‹¬ä¸¤ç§ç‰¹ä¾‹ï¼šèšåˆå’Œç»„åˆ
    - èšåˆï¼Œç”¨æ¥è¡¨ç¤ºæ•´ä½“ä¸éƒ¨åˆ†çš„å…³ç³»æˆ–è€…æ‹¥æœ‰å…³ç³»,ä»£è¡¨éƒ¨åˆ†çš„å¯¹è±¡å¯èƒ½ä¼šè¢«æ•´ä½“æ‹¥æœ‰ï¼Œä½†å¹¶ä¸å®šå®šä¼šéšç€æ•´ä½“çš„æ¶ˆäº¡è€Œé”€æ¯,æ¯”å¦‚ç­çº§å’Œå­¦ç”Ÿ
    - åˆæˆæˆ–è€…è¯´ç»„åˆè¦æ¯”èšåˆå…³ç³»å¼ºçš„å¤šï¼Œéƒ¨åˆ†å’Œæ•´ä½“çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€è‡´çš„,æ¯”å¦‚äººå’Œå™¨å®˜ä¹‹é—´

![](/public/images/7.composite.png)

### 2.4.2 åˆæˆå¤ç”¨åŸåˆ™
- åˆæˆå¤ç”¨åŸåˆ™æ˜¯é€šè¿‡å°†å·²æœ‰çš„å¯¹è±¡çº³å…¥æ–°å¯¹è±¡ä¸­ï¼Œä½œä¸ºæ–°å¯¹è±¡çš„æˆå‘˜å¯¹è±¡æ¥å®ç°çš„
- æ–°å¯¹è±¡å¯ä»¥è°ƒç”¨å·²æœ‰å¯¹è±¡çš„åŠŸèƒ½ï¼Œä»è€Œè¾¾åˆ°å¤ç”¨
- åŸåˆ™æ˜¯å°½é‡é¦–å…ˆä½¿ç”¨ç»„åˆ/èšåˆçš„æ–¹å¼ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç»§æ‰¿
- ä¸“ä¸šäººåšä¸“ä¸šäº‹
```js
class Cooker {
    cook() {

    }
}
class Person {
    private cooker: Cooker = new Cooker();
    cook() {
        this.cooker.cook();
    }
}
```
## 2.5 æ€»ç»“
- å¼€é—­åŸåˆ™æ˜¯æ ¸å¿ƒï¼Œå¯¹ä¿®æ”¹å…³é—­å¯¹æ‰©å±•å¼€æ”¾æ˜¯è½¯ä»¶è®¾è®¡çš„åŸºçŸ³
- å•ä¸€èŒè´£è¦æ±‚æˆ‘ä»¬è®¾è®¡æ¥å£å’Œæ¨¡å—åŠŸèƒ½çš„æ—¶å€™å°½é‡ä¿è¯å•ä¸€æ€§å’ŒåŸå­æ€§ï¼Œä¿®æ”¹ä¸€æ¡ä¸å½±å“å…¨å±€å’Œå…¶å®ƒæ¨¡å—
- é‡Œæ°æ›¿æ¢åŸåˆ™å’Œä¾èµ–å€’ç½®åŸåˆ™è¦æ±‚é¢å‘æ¥å£å’ŒæŠ½è±¡ç¼–ç¨‹,ä¸è¦ä¾èµ–å…·ä½“å®ç°ï¼Œå¦åˆ™å®ç°ä¸€æ”¹ï¼Œä¸Šå±‚è°ƒç”¨è€…å°±è¦å¯¹åº”ä¿®æ”¹

## 2.6 å¦‚ä½•å†™å‡ºå¥½ä»£ç ?
- å¯ç»´æŠ¤æ€§ BUGæ˜¯å¦å¥½æ”¹?
- å¯è¯»æ€§ æ˜¯å¦å®¹æ˜“çœ‹æ‡‚?
- å¯æ‰©å±•æ€§ æ˜¯å¦å¯ä»¥æ·»åŠ æ–°åŠŸèƒ½?
- çµæ´»æ€§ æ·»åŠ æ–°åŠŸèƒ½æ˜¯å¦å®¹æ˜“?è€æ–¹æ³•å’Œæ¥å£æ˜¯å¦å®¹æ˜“å¤ç”¨?
- ç®€æ´æ€§ ä»£ç æ˜¯å¦ç®€å•æ¸…æ™°?
- å¯å¤ç”¨æ€§ ç›¸åŒçš„ä»£ç ä¸è¦å†™2é?
- å¯æµ‹è¯•æ€§ æ˜¯å¦æ–¹ä¾¿å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•?

# 3. 23ç§è®¾è®¡æ¨¡å¼
## 3.1 åˆ›å»ºå‹
- é‡è¦: å·¥å‚æ¨¡å¼(å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€ç®€å•å·¥å‚æ¨¡å¼)ã€å»ºé€ è€…æ¨¡å¼ã€å•ä¾‹æ¨¡å¼
- ä¸é‡è¦: åŸå‹æ¨¡å¼

## 3.2 ç»“æ„å‹æ¨¡å¼
- é‡è¦: ä»£ç†æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼
- ä¸é‡è¦: å¤–è§‚æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼

## 3.3 è¡Œä¸ºå‹
- é‡è¦: è§‚å¯Ÿè€…æ¨¡å¼ã€æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€èŒè´£é“¾æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼
- ä¸é‡è¦: è®¿é—®è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼

# 4. å·¥å‚æ¨¡å¼
## 4.1 ç®€å•å·¥å‚æ¨¡å¼
- ç®€å•å·¥å‚æ¨¡å¼æ˜¯ç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“ç±»çš„å®ä¾‹
### 4.1.1 ç±»å›¾

![](/public/images/simplefatory2.png)

### 4.1.2 ä»£ç 
```js
abstract class Coffee {
    constructor(public name: string) {

    }
}
class AmericanoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class LatteCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class CappuccinoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}

class CafÃ© {
    static order(name: string) {
        switch (name) {
            case 'Americano':
                return new AmericanoCoffee('ç¾å¼å’–å•¡');
            case 'Latte':
                return new LatteCoffee('æ‹¿é“å’–å•¡');
            case 'Cappuccino':
                return new LatteCoffee('å¡å¸ƒå¥‡è¯º');
            default:
                return null;
        }
    }
}
console.log(CafÃ©.order('Americano'));
console.log(CafÃ©.order('Latte'));
console.log(CafÃ©.order('Cappuccino'));
```
### 4.1.3 ç¼ºç‚¹
- å¦‚æœäº§å“çš„ç§ç±»éå¸¸å¤šswitch caseçš„åˆ¤æ–­ä¼šå˜å¾—éå¸¸å¤š
- ä¸ç¬¦åˆå¼€æ”¾â€”å°é—­åŸåˆ™,å¦‚æœè¦å¢åŠ æˆ–åˆ é™¤ä¸€ä¸ªäº§å“ç§ç±»ï¼Œå°±è¦ä¿®æ”¹switch caseçš„åˆ¤æ–­ä»£ç 
### 4.1.3 å‰ç«¯åº”ç”¨åœºæ™¯
#### 4.1.3.1 jQuery
- [jQuery](https://github.com/jquery/jquery/blob/c1ee33aded44051b8f1288b59d2efdc68d0413cc/src/core.js#L24-L29)
```js
class jQuery{
    constructor(selector){
        let elements = Array.from(document.querySelectorAll(selector));
        let length = elements?elements.length:0;
        for(let i=0;i<length;i++){
            this[i]=elements[i];
        }
        this.length = length;
    }
    html(html){
        if(html){
           this[0].innerHTML=html;
        }else{
          return this[0].innerHTML;
        }
    }
}
window.$ = function(selector){
   return new jQuery(selector);
}
```
#### 4.1.3.2 Reac
- [createElement](https://github.com/facebook/react/blob/master/packages/react/src/ReactElement.js#L313-L395)
```js
export function createElement(type, config, children) {
    return ReactElement(
        type,
        key,
        ref,
        self,
        source,
        ReactCurrentOwner.current,
        props,
    );
}
```
## 4.2 å·¥å‚æ–¹æ³•æ¨¡å¼
- å·¥å‚æ–¹æ³•æ¨¡å¼Factory Method,åˆç§°å¤šæ€æ€§å·¥å‚æ¨¡å¼ã€‚
- åœ¨å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­,æ ¸å¿ƒçš„å·¥å‚ç±»ä¸å†è´Ÿè´£æ‰€æœ‰çš„äº§å“çš„åˆ›å»ºï¼Œè€Œæ˜¯å°†å…·ä½“åˆ›å»ºçš„å·¥ä½œäº¤ç»™å·¥å‚å­ç±»å»åšã€‚
### 4.2.1 ç±»å›¾

![](/public/images/factorymethod.png)

### 4.2.2 ä»£ç 
```js
export { }
abstract class Coffee {
    constructor(public name: string) {

    }
}
abstract class Factory {
    abstract createCoffee(): Coffee;
}
class AmericanoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}

class AmericanoCoffeeFactory extends Factory {
    createCoffee() {
        return new AmericanoCoffee('ç¾å¼å’–å•¡')
    }
}

class LatteCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class LatteCoffeeFactory extends Factory {
    createCoffee() {
        return new LatteCoffee('æ‹¿é“å’–å•¡')
    }
}
class CappuccinoCoffee extends Coffee {
    constructor(public name: string) {
        super(name);
    }
}
class CappuccinoFactory extends Factory {
    createCoffee() {
        return new CappuccinoCoffee('å¡å¸ƒå¥‡è¯º')
    }
}
class CafÃ© {
    static order(name: string) {
        switch (name) {
            case 'Americano':
                return new AmericanoCoffeeFactory().createCoffee();
            case 'Latte':
                return new LatteCoffeeFactory().createCoffee();
            case 'Cappuccino':
                return new CappuccinoFactory().createCoffee();
            default:
                return null;
        }
    }
}
console.log(CafÃ©.order('Americano'));
console.log(CafÃ©.order('Latte'));
console.log(CafÃ©.order('Cappuccino'));
```

### 4.2.3 åº”ç”¨åœºæ™¯
#### 4.2.3.1 React
- [createFactory](https://github.com/facebook/react/blob/master/packages/react/src/ReactElement.js#L401-L409)

## æŠ½è±¡å·¥å‚æ¨¡å¼
- æŠ½è±¡å·¥å‚æ¨¡å¼å¯ä»¥å‘å®¢æˆ·ç«¯æä¾›ä¸€ä¸ªæ¥å£ï¼Œä½¿å®¢æˆ·ç«¯åœ¨ä¸å¿…æŒ‡å®šäº§å“çš„å…·ä½“çš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºå¤šä¸ªäº§å“æ—ä¸­çš„äº§å“å¯¹è±¡
- å·¥å‚æ–¹æ³•æ¨¡å¼é’ˆå¯¹çš„æ˜¯åŒä¸€ç±»æˆ–åŒç­‰çº§äº§å“,è€ŒæŠ½è±¡å·¥å‚æ¨¡å¼é’ˆå¯¹çš„æ˜¯å¤šç§ç±»çš„äº§å“è®¾è®¡
- ç³»ç»Ÿä¸­æœ‰å¤šä¸ªäº§å“æ—ï¼Œæ¯ä¸ªå…·ä½“å·¥å‚è´Ÿè´£åˆ›å»ºåŒä¸€æ—ä½†å±äºä¸åŒäº§å“ç­‰çº§(äº§å“ç§ç±»)çš„äº§å“
- äº§å“æ—æ˜¯ä¸€ç»„ç›¸å…³æˆ–ç›¸äº’ä¾èµ–çš„å¯¹è±¡
- ç³»ç»Ÿä¸€æ¬¡åªèƒ½æ¶ˆè´¹æŸä¸€æ—äº§å“ï¼Œå³ç›¸åŒäº§å“æ—çš„äº§å“æ˜¯ä¸€èµ·è¢«ä½¿ç”¨çš„
- å½“ç³»ç»Ÿéœ€è¦æ–°å¢ä¸€ä¸ªäº§å“æ—æ—¶ï¼Œåªéœ€è¦å¢åŠ æ–°çš„å·¥å‚ç±»å³å¯ï¼Œæ— éœ€ä¿®æ”¹æºä»£ç ï¼›ä½†æ˜¯å¦‚æœéœ€è¦äº§å“æ—ä¸­å¢åŠ ä¸€ä¸ªæ–°ç§ç±»çš„äº§å“æ—¶ï¼Œåˆ™æ‰€æœ‰çš„å·¥å‚ç±»éƒ½éœ€è¦ä¿®æ”¹

### 4.3.1 ç»„æˆè§’è‰²
- æŠ½è±¡å·¥å‚: æä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£,åŒ…å«å¤šä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³•,å³åŒ…å«å¤šä¸ªç±»ä¼¼åˆ›å»ºäº§å“çš„æ–¹æ³•
- å…·ä½“å·¥å‚: å®ç°æŠ½è±¡å·¥å‚å®šä¹‰çš„æ¥å£,å®ŒæˆæŸä¸ªå…·ä½“äº§å“çš„åˆ›å»º
- æŠ½è±¡äº§å“: æŠ½è±¡äº§å“å®šä¹‰,ä¸€èˆ¬æœ‰å¤šå°‘æŠ½è±¡äº§å“,æŠ½è±¡å·¥å‚ä¸­å°±åŒ…å«å¤šå°‘ä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³•
- å…·ä½“äº§å“: æŠ½è±¡äº§å“çš„å®ç°ç±»

### 4.3.1 ç±»å›¾

![](/public/images/abstractfactory3.png)

![](/public/images/abstractfactory2.png)

### 4.3.2 ä»£ç 
```js
export { };
abstract class AmericanoCoffee { }
abstract class LatteCoffee { }
abstract class CappuccinoCoffee { }

class StarbucksAmericanoCoffee extends AmericanoCoffee { }
class StarbucksLatteCoffee extends LatteCoffee { }
class StarbucksCappuccinoCoffee extends CappuccinoCoffee { }

class LuckinAmericanoCoffee extends AmericanoCoffee { }
class LuckinLatteCoffee extends LatteCoffee { }
class LuckinCappuccinoCoffee extends CappuccinoCoffee { }

abstract class CafeFactory {
    abstract createAmericanoCoffee(): AmericanoCoffee;
    abstract createLatteCoffee(): LatteCoffee;
    abstract createCappuccinoCoffee(): CappuccinoCoffee;
}
class StarbucksCafeFactory extends CafeFactory {
    createAmericanoCoffee() {
        return new StarbucksAmericanoCoffee();
    }
    createLatteCoffee() {
        return new StarbucksLatteCoffee();
    }
    createCappuccinoCoffee() {
        return new StarbucksCappuccinoCoffee();
    }
}
class LuckinCafeFactory extends CafeFactory {
    createAmericanoCoffee() {
        return new LuckinAmericanoCoffee();
    }
    createLatteCoffee() {
        return new LuckinLatteCoffee();
    }
    createCappuccinoCoffee() {
        return new LuckinCappuccinoCoffee();
    }
}

let starbucksCafeFactory = new StarbucksCafeFactory();
console.log(starbucksCafeFactory.createAmericanoCoffee());
console.log(starbucksCafeFactory.createCappuccinoCoffee());
console.log(starbucksCafeFactory.createLatteCoffee());

let luckinCafeFactory = new LuckinCafeFactory();
console.log(luckinCafeFactory.createAmericanoCoffee());
console.log(luckinCafeFactory.createCappuccinoCoffee());
console.log(luckinCafeFactory.createLatteCoffee());
```